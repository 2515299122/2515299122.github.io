{"version":3,"sources":["js/plugins/rightMenus.js"],"names":["_typeof2","o","Symbol","iterator","constructor","prototype","_typeof","e","_regeneratorRuntime","t","n","Object","r","hasOwnProperty","defineProperty","value","i","a","c","asyncIterator","u","toStringTag","s","enumerable","configurable","writable","l","y","create","C","_","d","type","arg","call","wrap","p","m","h","g","f","v","b","M","this","w","getPrototypeOf","x","O","k","L","forEach","_invoke","R","resolve","__await","then","Error","done","method","delegate","E","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","S","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","A","completion","reset","isNaN","length","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","AsyncIterator","async","Promise","keys","reverse","pop","values","prev","charAt","slice","stop","rval","complete","finish","catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","undefined","RightMenus","defaultEvent","defaultGroup","messageRightMenu","volantis","GLOBAL_CONFIG","plugins","message","enable","rightmenu","corsAnywhere","rightmenus","options","urlRegx","imgRegx","initialMenu","fun","init","pjax","send","hideMenu","isReadModel","readMode","readClipboard","navigator","permissions","query","t0","state","clipboard","readText","window","clipboardRead","writeClipText","writeText","reject","writeClipImg","Image","crossOrigin","addEventListener","document","createElement","getContext","width","height","drawImage","toBlob","write","ClipboardItem","src","concat","insertAtCaret","selectionStart","selectionEnd","selection","focus","createRange","text","scrollTop","substring","getElementById","querySelectorAll","querySelector","mouseEvent","isInputBox","selectText","inputValue","isLink","linkUrl","isMediaLink","mediaLinkUrl","isImage","isArticle","pathName","isReadClipboard","isShowMusic","statusCheck","assign","initEvent","elementAppend","contextmenu","menuEvent","parentNode","removeChild","className","id","body","appendChild","menuPosition","clientX","clientY","documentElement","clientWidth","clientHeight","style","display","menuControl","offsetWidth","offsetHeight","left","top","notice","menuNotic","console","error","globalDataSet","firstElementChild","nodeName","getAttribute","articleShowLink","every","handle","start","item","hide","nextElementSibling","getSelection","toString","target","tagName","toLowerCase","href","test","currentSrc","location","pathname","aplayer","RightMenuAplayer","APlayer","player","musicAlwaysShow","status","oncontextmenu","ctrlKey","stopPropagation","preventDefault","removeEventListener","RightMenusFunction","debug","globalData","groupName","eventName","VolantisApp","icon","iconPrefix","time","onclick","aplayerBackward","aplayerToggle","aplayerForward","localStorage","getItem","displayMode","setItem","copyText","utilWriteClipText","messageCopyright","copyLink","copyAll","select","copyPaste","copyCut","copyImg","hideMessage","printMode","question","printHtml","DOMController","setAttribute","removeList","setStyleList","setTimeout","print","innerHTML","reload","ScrollReveal","clean","fadeToggleList","toggleClassList","setStyle","backgroundColor","hasClass","freeze","requestAnimationFrame","readyState"],"mappings":"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","file":"../../../js/plugins/rightMenus.js","sourcesContent":["\nconst RightMenus = {\n  defaultEvent: ['copyText', 'copyLink', 'copyPaste', 'copyAll', 'copyCut', 'copyImg', 'printMode', 'readMode'],\n  defaultGroup: ['navigation', 'inputBox', 'seletctText', 'elementCheck', 'elementImage', 'articlePage'],\n  messageRightMenu: volantis.GLOBAL_CONFIG.plugins.message.enable && volantis.GLOBAL_CONFIG.plugins.message.rightmenu.enable,\n  corsAnywhere: volantis.GLOBAL_CONFIG.plugins.rightmenus.options.corsAnywhere,\n  urlRegx: /^((https|http)?:\\/\\/)+[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&_~`@[\\]\\':+!]*([^<>\\\"\\\"])*$/,\n  imgRegx: /\\.(jpe?g|png|webp|svg|gif|jifi)(-|_|!|\\?|\\/)?.*$/,\n\n  /**\n   * 加载右键菜单\n   */\n  initialMenu: () => {\n    RightMenus.fun.init();\n    volantis.pjax.send(() => {\n      RightMenus.fun.hideMenu();\n      if (volantis.isReadModel) RightMenus.fun.readMode();\n    })\n  },\n\n  /**\n   * 读取剪切板\n   * @returns text\n   */\n  readClipboard: async () => {\n    let clipboardText;\n    const result = await navigator.permissions.query({ name: 'clipboard-read' });\n    switch (result.state) {\n      case 'granted':\n      case 'prompt':\n        clipboardText = await navigator.clipboard.readText()\n        break;\n      default:\n        window.clipboardRead = false;\n        break;\n    }\n    return clipboardText;\n  },\n\n  /**\n   * 写入文本到剪切板\n   * @param {String} text\n   */\n  writeClipText: text => {\n    return navigator.clipboard\n      .writeText(text)\n      .then(() => {\n        return Promise.resolve()\n      })\n      .catch(err => {\n        return Promise.reject(err)\n      })\n  },\n\n  /**\n   * 写入图片到剪切板\n   * @param {*} link\n   * @param {*} success\n   * @param {*} error\n   */\n  writeClipImg: async (link, success, error) => {\n    const image = new Image;\n    image.crossOrigin = \"Anonymous\";\n    image.addEventListener('load', () => {\n      let canvas = document.createElement(\"canvas\");\n      let context = canvas.getContext(\"2d\");\n      canvas.width = image.width;\n      canvas.height = image.height;\n      context.drawImage(image, 0, 0);\n      canvas.toBlob(blob => {\n        navigator.clipboard.write([\n          new ClipboardItem({ 'image/png': blob })\n        ]).then(e => {\n          success(e)\n        }).catch(e => {\n          error(e)\n        })\n      }, 'image/png')\n    }, false)\n    image.src = `${link}?(lll￢ω￢)`;\n  },\n\n  /**\n   * 粘贴文本到剪切板\n   * @param {*} elemt\n   * @param {*} value\n   */\n  insertAtCaret: (elemt, value) => {\n    const startPos = elemt.selectionStart,\n      endPos = elemt.selectionEnd;\n    if (document.selection) {\n      elemt.focus();\n      var sel = document.selection.createRange();\n      sel.text = value;\n      elemt.focus();\n    } else {\n      if (startPos || startPos == '0') {\n        var scrollTop = elemt.scrollTop;\n        elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);\n        elemt.focus();\n        elemt.selectionStart = startPos + value.length;\n        elemt.selectionEnd = startPos + value.length;\n        elemt.scrollTop = scrollTop;\n      } else {\n        elemt.value += value;\n        elemt.focus();\n      }\n    }\n  }\n}\n\n/**\n * 事件处理区域\n */\nRightMenus.fun = (() => {\n  const rightMenuConfig = volantis.GLOBAL_CONFIG.plugins.rightmenus;\n\n  const\n    fn = {},\n    _rightMenuWrapper = document.getElementById('rightmenu-wrapper'),\n    _rightMenuContent = document.getElementById('rightmenu-content'),\n    _rightMenuList = document.querySelectorAll('#rightmenu-content li.menuLoad-Content'),\n    _rightMenuListWithHr = document.querySelectorAll('#rightmenu-content li, #rightmenu-content hr, #menuMusic'),\n    _readBkg = document.getElementById('read_bkg'),\n    _menuMusic = document.getElementById('menuMusic'),\n    _backward = document.querySelector('#menuMusic .backward'),\n    _toggle = document.querySelector('#menuMusic .toggle'),\n    _forward = document.querySelector('#menuMusic .forward');\n\n  // 公共数据\n  let globalData = {\n    mouseEvent: null,\n    isInputBox: false,\n    selectText: '',\n    inputValue: '',\n    isLink: false,\n    linkUrl: '',\n    isMediaLink: false,\n    mediaLinkUrl: '',\n    isImage: false,\n    isArticle: false,\n    pathName: '',\n    isReadClipboard: true,\n    isShowMusic: false,\n    statusCheck: false\n  }\n  const globalDataBackup = Object.assign({}, globalData);\n\n  /**\n   * 初始化监听事件处理\n   */\n  fn.initEvent = () => {\n    fn.elementAppend();\n    fn.contextmenu();\n    fn.menuEvent();\n  }\n\n  /**\n   * 预置元素设定\n   */\n  fn.elementAppend = () => {\n    // 阅读模式\n    if (_readBkg) _readBkg.parentNode.removeChild(_readBkg);\n    const readBkg = document.createElement(\"div\");\n    readBkg.className = \"common_read_bkg common_read_hide\";\n    readBkg.id = \"read_bkg\";\n    window.document.body.appendChild(readBkg);\n  }\n\n  /**\n   * 右键菜单位置设定\n   * @param {*} event\n   */\n  fn.menuPosition = (event) => {\n    try {\n      let mouseClientX = event.clientX;\n      let mouseClientY = event.clientY;\n      let screenWidth = document.documentElement.clientWidth || document.body.clientWidth;\n      let screenHeight = document.documentElement.clientHeight || document.body.clientHeight;\n\n      _rightMenuWrapper.style.display = 'block';\n      fn.menuControl(event);\n\n      let menuWidth = _rightMenuContent.offsetWidth;\n      let menuHeight = _rightMenuContent.offsetHeight;\n      let showLeft = mouseClientX + menuWidth > screenWidth ? mouseClientX - menuWidth + 10 : mouseClientX;\n      let showTop = mouseClientY + menuHeight > screenHeight ? mouseClientY - menuHeight + 10 : mouseClientY;\n      showTop = mouseClientY + menuHeight > screenHeight && showTop < menuHeight && mouseClientY < menuHeight ?\n        showTop + (screenHeight - menuHeight - showTop - 10) : showTop;\n      _rightMenuWrapper.style.left = `${showLeft}px`;\n      _rightMenuWrapper.style.top = `${showTop}px`;\n      if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) fn.menuNotic();\n    } catch (error) {\n      console.error(error);\n      fn.hideMenu();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * 菜单项控制\n   * @param {*} event\n   */\n  fn.menuControl = (event) => {\n    fn.globalDataSet(event);\n    if (!!_menuMusic) _menuMusic.style.display = globalData.isShowMusic ? 'block' : 'none';\n    _rightMenuList.forEach(item => {\n      item.style.display = 'none';\n      const nodeName = item.firstElementChild.nodeName;\n      const groupName = item.firstElementChild.getAttribute('data-group');\n      const itemEvent = item.firstElementChild.getAttribute('data-event');\n      if (globalData.statusCheck || globalData.isArticle) {\n        switch (groupName) {\n          case 'inputBox':\n            if (globalData.isInputBox) {\n              item.style.display = 'block';\n              if (itemEvent === 'copyCut' && !globalData.selectText) item.style.display = 'none';\n              if (itemEvent === 'copyAll' && !globalData.inputValue) item.style.display = 'none';\n              if (itemEvent === 'copyPaste' && !globalData.isReadClipboard) item.style.display = 'none';\n            }\n            break;\n          case 'seletctText':\n            if (!!globalData.selectText) item.style.display = 'block';\n            break;\n          case 'elementCheck':\n            if (globalData.isLink || globalData.isMediaLink) item.style.display = 'block';\n            break;\n          case 'elementImage':\n            if (globalData.isImage) item.style.display = 'block';\n            break;\n          case 'articlePage':\n            if (globalData.isArticle) item.style.display = 'block';\n            break;\n          default:\n            item.style.display = nodeName === 'A'\n              ? globalData.isArticle && !globalData.statusCheck && rightMenuConfig.options.articleShowLink\n                ? 'block'\n                : 'none'\n              : 'block';\n            break;\n        }\n      } else if (nodeName === 'A' || RightMenus.defaultGroup.every(item => { return groupName !== item })) {\n        item.style.display = 'block';\n      }\n    })\n\n    // 执行外部事件\n    volantis.mouseEvent = event;\n    volantis.rightmenu.method.handle.start()\n\n    // 过滤 HR 元素\n    let elementHrItem = { item: null, hide: true };\n    _rightMenuListWithHr.forEach((item) => {\n      if (item.nodeName === \"HR\") {\n        item.style.display = 'block';\n        if (!elementHrItem.item) {\n          elementHrItem.item = item;\n          return;\n        }\n        if (elementHrItem.hide || elementHrItem.item.nextElementSibling.nodeName === \"hr\") {\n          elementHrItem.item.style.display = 'none';\n        }\n        elementHrItem.item = item;\n        elementHrItem.hide = true;\n      } else {\n        if (item.style.display === 'block' && elementHrItem.hide) {\n          elementHrItem.hide = false;\n        }\n      }\n    })\n    if (!!elementHrItem.item && elementHrItem.hide) elementHrItem.item.style.display = 'none';\n  }\n\n  /**\n   * 元素状态判断/全局数据设置\n   * @param {*} event\n   */\n  fn.globalDataSet = (event) => {\n    globalData = Object.assign({}, globalDataBackup);\n    globalData.mouseEvent = event;\n    globalData.selectText = window.getSelection().toString();\n\n    // 判断是否为输入框\n    if (event.target.tagName.toLowerCase() === 'input' || event.target.tagName.toLowerCase() === 'textarea') {\n      globalData.isInputBox = true;\n      globalData.inputValue = event.target.value;\n    }\n\n    // 判断是否允许读取剪切板\n    if (globalData.isInputBox && window.clipboardRead === false) {\n      globalData.isReadClipboard = false;\n    }\n\n    // 判断是否包含链接\n    if (!!event.target.href && RightMenus.urlRegx.test(event.target.href)) {\n      globalData.isLink = true;\n      globalData.linkUrl = event.target.href;\n    }\n\n    // 判断是否包含媒体链接\n    if (!!event.target.currentSrc && RightMenus.urlRegx.test(event.target.currentSrc)) {\n      globalData.isMediaLink = true;\n      globalData.mediaLinkUrl = event.target.currentSrc;\n    }\n\n    // 判断是否为图片地址\n    if (globalData.isMediaLink && RightMenus.imgRegx.test(globalData.mediaLinkUrl)) {\n      globalData.isImage = true;\n    }\n\n    // 判断是否为文章页面\n    if (!!(document.querySelector('#post.article') || null)) {\n      globalData.isArticle = true;\n      globalData.pathName = window.location.pathname;\n    }\n\n    // 判断是否显示音乐控制器\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer?.enable\n      && typeof RightMenuAplayer !== 'undefined'\n      && RightMenuAplayer.APlayer.player !== undefined) {\n      if (rightMenuConfig.options.musicAlwaysShow\n        || RightMenuAplayer.APlayer.status === 'play'\n        || RightMenuAplayer.APlayer.status === 'undefined') {\n        globalData.isShowMusic = true;\n      }\n    }\n\n    // 设定校验状态\n    if (!!globalData.selectText || globalData.isInputBox || globalData.isLink || globalData.isMediaLink) {\n      globalData.statusCheck = true;\n    }\n  }\n\n  /**\n   * 全局右键监听函数\n   */\n  fn.contextmenu = () => {\n    window.document.oncontextmenu = (event) => {\n      if (event.ctrlKey || document.body.offsetWidth <= 500) {\n        fn.hideMenu();\n        return true;\n      }\n      return fn.menuPosition(event);\n    }\n\n    _rightMenuWrapper.oncontextmenu = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      return false;\n    }\n\n    window.removeEventListener('blur', fn.hideMenu);\n    window.addEventListener('blur', fn.hideMenu);\n    document.body.removeEventListener('click', fn.hideMenu);\n    document.body.addEventListener('click', fn.hideMenu);\n  }\n\n  /**\n   * 菜单项事件处理函数\n   */\n  fn.menuEvent = () => {\n    _rightMenuList.forEach(item => {\n      let eventName = item.firstElementChild.getAttribute('data-event');\n      const id = item.firstElementChild.getAttribute('id');\n      const groupName = item.firstElementChild.getAttribute('data-group');\n      if (item.firstElementChild.nodeName === \"A\") return;\n      item.addEventListener('click', () => {\n        try {\n          if (RightMenus.defaultEvent.every(item => { return eventName !== item })) {\n            if (groupName === 'seletctText') {\n              RightMenusFunction[id](globalData.selectText)\n            } else if (groupName === 'elementCheck') {\n              RightMenusFunction[id](globalData.isLink ? globalData.linkUrl : globalData.mediaLinkUrl)\n            } else if (groupName === 'elementImage') {\n              RightMenusFunction[id](globalData.mediaLinkUrl)\n            } else {\n              RightMenusFunction[id]()\n            }\n          } else {\n            fn[eventName]()\n          }\n        } catch (error) {\n          if (volantis.GLOBAL_CONFIG.debug === \"rightMenus\") {\n            console.error({\n              id: id,\n              error: error,\n              globalData: globalData,\n              groupName: groupName,\n              eventName: eventName\n            });\n          }\n          if (RightMenus.messageRightMenu) {\n            VolantisApp.message('错误提示', error, {\n              icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n              time: '15000'\n            });\n          }\n        }\n      })\n    })\n\n    if (_forward && _toggle && _forward) {\n      _backward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerBackward();\n      }\n      _toggle.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerToggle();\n      }\n      _forward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerForward();\n      }\n    }\n  }\n\n  /**\n   * 隐藏菜单显示\n   */\n  fn.hideMenu = () => {\n    _rightMenuWrapper.style.display = null;\n    _rightMenuWrapper.style.left = null;\n    _rightMenuWrapper.style.top = null;\n  }\n\n  /**\n   * 右键菜单覆盖提示\n   */\n  fn.menuNotic = () => {\n    const NoticeRightMenu = localStorage.getItem('NoticeRightMenu') === 'true';\n    if (RightMenus.messageRightMenu && !NoticeRightMenu)\n      VolantisApp.message('右键菜单', '唤醒原系统菜单请使用：<kbd>Ctrl</kbd> + <kbd>右键</kbd>', {\n        icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n        displayMode: 1,\n        time: 9000\n      }, () => {\n        localStorage.setItem('NoticeRightMenu', 'true')\n      });\n  }\n\n  fn.copyText = () => {\n    VolantisApp.utilWriteClipText(globalData.selectText)\n      .then(() => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n            displayMode: 1,\n            time: 9000\n          });\n        }\n      })\n  }\n\n  fn.copyLink = () => {\n    VolantisApp.utilWriteClipText(globalData.linkUrl || globalData.mediaLinkUrl)\n      .then(() => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (RightMenus.messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n            displayMode: 1,\n            time: 9000\n          });\n        }\n      })\n  }\n\n  fn.copyAll = () => {\n    globalData.mouseEvent.target.select();\n  }\n\n  fn.copyPaste = async () => {\n    const result = await RightMenus.readClipboard() || '';\n    if (RightMenus.messageRightMenu && window.clipboardRead === false) {\n      VolantisApp.message('系统提示', '未授予剪切板读取权限！');\n    } else if (RightMenus.messageRightMenu && result === '') {\n      VolantisApp.message('系统提示', '仅支持复制文本内容！');\n    } else {\n      RightMenus.insertAtCaret(globalData.mouseEvent.target, result);\n    }\n  }\n\n  fn.copyCut = () => {\n    const statrPos = globalData.mouseEvent.target.selectionStart;\n    const endPos = globalData.mouseEvent.target.selectionEnd;\n    const inputStr = globalData.inputValue;\n    fn.copyText(globalData.selectText);\n    globalData.mouseEvent.target.value = inputStr.substring(0, statrPos) + inputStr.substring(endPos, inputStr.length);\n    globalData.mouseEvent.target.selectionStart = statrPos;\n    globalData.mouseEvent.target.selectionEnd = statrPos;\n    globalData.mouseEvent.target.focus();\n  }\n\n  fn.copyImg = () => {\n    if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) {\n      VolantisApp.message('系统提示', '复制中，请等待。', {\n        icon: rightMenuConfig.options.iconPrefix + ' fa-images'\n      })\n    }\n    RightMenus.writeClipImg(globalData.mediaLinkUrl, e => {\n      if (RightMenus.messageRightMenu) {\n        VolantisApp.hideMessage();\n        VolantisApp.message('系统提示', '图片复制成功！', {\n          icon: rightMenuConfig.options.iconPrefix + ' fa-images'\n        });\n      }\n    }, (e) => {\n      console.error(e);\n      if (RightMenus.messageRightMenu) {\n        VolantisApp.hideMessage();\n        VolantisApp.message('系统提示', '复制失败：' + e, {\n          icon: rightMenuConfig.options.iconPrefix + ' fa-exclamation-square red',\n          time: 9000\n        });\n      }\n    })\n  }\n\n  fn.printMode = () => {\n    if (window.location.pathname === globalData.pathName) {\n      if (RightMenus.messageRightMenu) {\n        const message = '是否打印当前页面？<br><em style=\"font-size: 80%\">建议打印时勾选背景图形</em><br>'\n        VolantisApp.question('', message, { time: 9000 }, () => { fn.printHtml() })\n      } else {\n        fn.printHtml()\n      }\n    }\n  }\n\n  fn.printHtml = () => {\n    if (volantis.isReadModel) fn.readMode();\n    DOMController.setAttribute('details', 'open', 'true');\n    DOMController.removeList([\n      '.cus-article-bkg', '.iziToast-overlay', '.iziToast-wrapper', '.prev-next',\n      'footer', '#l_header', '#l_cover', '#l_side', '#comments', '#s-top', '#BKG',\n      '#rightmenu-wrapper', '.nav-tabs', '.parallax-mirror', '.new-meta-item.share', 'div.footer'\n    ]);\n    DOMController.setStyleList([\n      ['body', 'backgroundColor', 'unset'], ['#l_main', 'width', '100%'], ['#post', 'boxShadow', 'none'],\n      ['#post', 'background', 'none'], ['#post', 'padding', '0'], ['h1', 'textAlign', 'center'],\n      ['h1', 'fontWeight', '600'], ['h1', 'fontSize', '2rem'], ['h1', 'marginBottom', '20px'],\n      ['.tab-pane', 'display', 'block'], ['.tab-content', 'borderTop', 'none'], ['.highlight>table pre', 'whiteSpace', 'pre-wrap'],\n      ['.highlight>table pre', 'wordBreak', 'break-all'], ['.fancybox img', 'height', 'auto'], ['.fancybox img', 'weight', 'auto']\n    ]);\n    setTimeout(() => {\n      window.print();\n      document.body.innerHTML = '';\n      window.location.reload();\n    }, 50);\n  }\n\n  fn.readMode = () => {\n    if (typeof ScrollReveal === 'function') ScrollReveal().clean('#comments');\n    DOMController.fadeToggleList([  \n      document.querySelector('#l_header'), document.querySelector('footer'),  \n      document.querySelector('#s-top'), document.querySelector('.article-meta#bottom'),  \n      document.querySelector('.prev-next'), document.querySelector('#l_side'),  \n      document.querySelector('#comments')  \n    ]);  \n    DOMController.toggleClassList([  \n      [document.querySelector('#l_main'), 'common_read'], [document.querySelector('#l_main'), 'common_read_main'],  \n      [document.querySelector('#l_body'), 'common_read'], [document.querySelector('#safearea'), 'common_read'],  \n      [document.querySelector('#pjax-container'), 'common_read'], [document.querySelector('#read_bkg'), 'common_read_hide'],  \n      [document.querySelector('h1'), 'common_read_h1'], [document.querySelector('#post'), 'post_read'],  \n      [document.querySelector('#l_cover'), 'read_cover'], [document.querySelector('.widget.toc-wrapper'), 'post_read']  \n    ]);\n    DOMController.setStyle('.copyright.license', 'margin', '15px 0'); \n    volantis.isReadModel = volantis.isReadModel === undefined ? true : !volantis.isReadModel;\n    if (volantis.isReadModel) {\n      if (RightMenus.messageRightMenu) VolantisApp.message('系统提示', '阅读模式已开启，您可以点击屏幕空白处退出。', {\n        backgroundColor: 'var(--color-read-post)',\n        icon: rightMenuConfig.options.iconPrefix + ' fa-book-reader',\n        displayMode: 1,\n        time: 5000\n      });\n      document.querySelector('#l_body').removeEventListener('click', fn.readMode);\n      document.querySelector('#l_body').addEventListener('click', (event) => {\n        if (DOMController.hasClass(event.target, 'common_read')) {\n          fn.readMode();\n        }\n      });\n    } else {\n      document.querySelector('#l_body').removeEventListener('click', fn.readMode);\n      document.querySelector('#post').removeEventListener('click', fn.readMode);\n      DOMController.setStyle('.prev-next', 'display', 'flex'); \n      DOMController.setStyle('.copyright.license', 'margin', '15px -40px'); \n    }\n  }\n\n  return {\n    init: fn.initEvent,\n    hideMenu: fn.hideMenu,\n    readMode: fn.readMode\n  }\n})()\n\nObject.freeze(RightMenus);\nvolantis.requestAnimationFrame(() => {\n  if (document.readyState !== 'loading') {\n    RightMenus.initialMenu();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      RightMenus.initialMenu();\n    })\n  }\n});\n"]}