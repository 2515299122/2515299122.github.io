{"version":3,"sources":["js/plugins/rightMenu.js"],"names":["_typeof2","o","Symbol","iterator","constructor","prototype","_typeof","e","_regeneratorRuntime","t","n","Object","r","hasOwnProperty","defineProperty","value","i","l","a","asyncIterator","c","toStringTag","u","enumerable","configurable","writable","s","g","create","k","_","d","type","arg","call","wrap","m","f","p","y","h","v","b","M","this","C","getPrototypeOf","O","q","w","S","forEach","_invoke","D","resolve","__await","then","Error","done","method","delegate","x","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","L","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","E","completion","reset","isNaN","length","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","AsyncIterator","async","Promise","keys","reverse","pop","values","prev","charAt","slice","stop","rval","complete","finish","catch","delegateYield","_defineProperty","_toPropertyKey","_toPrimitive","String","toPrimitive","undefined","Number","asyncGeneratorStep","_asyncToGenerator","arguments","apply","RightMenu","volantis","GLOBAL_CONFIG","plugins","rightmenu","message","enable","document","getElementById","querySelectorAll","querySelector","init","DOMController","visible","parentNode","removeChild","createElement","className","id","window","body","appendChild","initEvent","oncontextmenu","ctrlKey","offsetWidth","hideMenu","popMenu","stopPropagation","preventDefault","removeEventListener","addEventListener","onclick","RightMenuAplayer","aplayerBackward","aplayerToggle","aplayerForward","clientX","clientY","documentElement","clientWidth","clientHeight","setMenuItem","focus","style","zIndex","offsetHeight","left","top","notice","showMessage","blur","console","error","localStorage","getItem","VolantisApp","icon","faicon","time","setItem","target","getSelection","toString","tagName","toLowerCase","select","selectionStart","selectionEnd","copyString","substring","readClipboard","insertAtCaret","href","test","open","currentSrc","trimEnd","endsWith","writeClipImg","OpenSearch","location","pathname","question","printHtml","readingModel","aplayer","APlayer","player","music_alwaysShow","status","layout","includes","checkAPlayer","utilWriteClipText","messageCopyright","writeClipText","navigator","clipboard","writeText","reject","setAttribute","execCommand","customPicUrl","replace","old","parentElement","fetch","blob","write","ClipboardItem","t0","createTextRange","moveToElementText","createRange","selectNodeContents","removeAllRanges","addRange","permissions","query","state","readText","selection","text","scrollTop","isReadModel","remove","setStyle","setTimeout","print","innerHTML","reload","ScrollReveal","clean","fadeToggle","toggleClass","backgroundColor","hasClass","destroy","freeze","requestAnimationFrame","readyState","pjax","send"],"mappings":"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","file":"../../../js/plugins/rightMenu.js","sourcesContent":["const RightMenu = (() => {\n  const\n    rightMenuConfig = volantis.GLOBAL_CONFIG.plugins.rightmenu,\n    messageRightMenu = volantis.GLOBAL_CONFIG.plugins.message.enable && volantis.GLOBAL_CONFIG.plugins.message.rightmenu.enable;\n\n  const\n    fn = {},\n    _rightMenuWrapper = document.getElementById('rightmenu-wrapper'),\n    _rightMenuContent = document.getElementById('rightmenu-content'),\n    _printHtml = document.getElementById('printHtml'),\n    _menuMusic = document.getElementById('menuMusic'),\n    _readingModel = document.getElementById('readingModel'),\n    _readBkg = document.getElementById('read_bkg');\n\n  const\n    _menuLoad = document.querySelectorAll('.menuLoad-Content'),\n    _menuOption = document.querySelector('.menu-Option'),\n    _searchWord = document.querySelector('.menu-Option[data-fn-type=\"searchWord\"]'),\n    _copyText = document.querySelector('.menu-Option[data-fn-type=\"copyText\"]'),\n    _copyPaste = document.querySelector('.menu-Option[data-fn-type=\"copyPaste\"]'),\n    _copySelect = document.querySelector('.menu-Option[data-fn-type=\"copySelect\"]'),\n    _copyCut = document.querySelector('.menu-Option[data-fn-type=\"copyCut\"]'),\n    _copyHref = document.querySelector('.menu-Option[data-fn-type=\"copyHref\"]'),\n    _copySrc = document.querySelector('.menu-Option[data-fn-type=\"copySrc\"]'),\n    _copyImg = document.querySelector('.menu-Option[data-fn-type=\"copyImg\"]'),\n    _openTab = document.querySelector('.menu-Option[data-fn-type=\"openTab\"]'),\n    _backward = document.querySelector('#menuMusic .backward'),\n    _toggle = document.querySelector('#menuMusic .toggle'),\n    _forward = document.querySelector('#menuMusic .forward');\n\n  const urlRegx = /^((https|http)?:\\/\\/)+[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&_~`@[\\]\\':+!]*([^<>\\\"\\\"])*$/;\n\n  fn.init = () => {\n    DOMController.visible(_menuMusic, false);\n    DOMController.visible(_menuOption, false);\n    if (_readBkg) _readBkg.parentNode.removeChild(_readBkg);\n\n    const readBkg = document.createElement(\"div\");\n    readBkg.className = \"common_read_bkg common_read_hide\";\n    readBkg.id = \"read_bkg\";\n    window.document.body.appendChild(readBkg);\n  }\n\n  fn.initEvent = () => {\n    window.document.oncontextmenu = (event) => {\n      if (event.ctrlKey || document.body.offsetWidth <= 500) {\n        fn.hideMenu();\n        return true;\n      }\n      return fn.popMenu(event);\n    }\n\n    _rightMenuWrapper.oncontextmenu = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      return false;\n    }\n\n    window.removeEventListener('blur', fn.hideMenu);\n    window.addEventListener('blur', fn.hideMenu);\n    document.body.removeEventListener('click', fn.hideMenu);\n    document.body.addEventListener('click', fn.hideMenu);\n\n    if (_forward && _toggle && _forward) {\n      _backward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerBackward();\n      }\n      _toggle.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerToggle();\n      }\n      _forward.onclick = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        RightMenuAplayer.aplayerForward();\n      }\n    }\n  }\n\n  // 菜单位置设定\n  fn.popMenu = (event) => {\n    let mouseClientX = event.clientX;\n    let mouseClientY = event.clientY;\n    let screenWidth = document.documentElement.clientWidth || document.body.clientWidth;\n    let screenHeight = document.documentElement.clientHeight || document.body.clientHeight;\n\n    try {\n      fn.setMenuItem(event);\n      DOMController.visible(_rightMenuWrapper);\n      _rightMenuWrapper.focus();\n      _rightMenuWrapper.style.zIndex = '-2147483648';\n      let menuWidth = _rightMenuContent.offsetWidth;\n      let menuHeight = _rightMenuContent.offsetHeight;\n      let showLeft = mouseClientX + menuWidth > screenWidth ? mouseClientX - menuWidth + 10 : mouseClientX;\n      let showTop = mouseClientY + menuHeight > screenHeight ? mouseClientY - menuHeight + 10 : mouseClientY;\n      showTop = mouseClientY + menuHeight > screenHeight && showTop < menuHeight && mouseClientY < menuHeight ?\n        showTop + (screenHeight - menuHeight - showTop - 10) : showTop;\n      _rightMenuWrapper.style.left = showLeft + \"px\";\n      _rightMenuWrapper.style.top = showTop + \"px\";\n      _rightMenuWrapper.style.zIndex = '2147483648';\n      if (volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice) fn.showMessage();\n    } catch (error) {\n      _rightMenuWrapper.blur();\n      console.error(error);\n      return true;\n    }\n\n    return false;\n  }\n\n  // 消息提示\n  fn.showMessage = () => {\n    const NoticeRightMenu = localStorage.getItem('NoticeRightMenu') === 'true';\n    if (messageRightMenu && !NoticeRightMenu)\n      VolantisApp.message('右键菜单', '唤醒原系统菜单请使用：<kbd>Ctrl</kbd> + <kbd>右键</kbd>', {\n        icon: rightMenuConfig.faicon + ' fa-exclamation-square red',\n        time: 9000\n      }, () => {\n        localStorage.setItem('NoticeRightMenu', 'true')\n      });\n  }\n\n  // 菜单项设置\n  fn.setMenuItem = (event) => {\n    let optionFlag = false;\n    const eventTarget = event.target;\n    const selectText = window.getSelection().toString();\n    DOMController.visible(_openTab, false); // 隐藏新标签页打开\n\n    // 判断是否是输入框\n    if (eventTarget.tagName.toLowerCase() === 'input' || eventTarget.tagName.toLowerCase() === 'textarea') {\n      const inputStr = eventTarget.value;\n\n      // 全选\n      if (inputStr.length > 0) {\n        DOMController.visible(_copySelect);\n        _copySelect.onclick = () => {\n          event.preventDefault();\n          eventTarget.select();\n        }\n      } else {\n        DOMController.visible(_copySelect, false);\n      }\n\n      // 剪切\n      if (selectText) {\n        DOMController.visible(_copyCut);\n        _copyCut.onclick = () => {\n          const statrPos = eventTarget.selectionStart;\n          const endPos = eventTarget.selectionEnd;\n          fn.copyString(selectText);\n          eventTarget.value = inputStr.substring(0, statrPos) + inputStr.substring(endPos, inputStr.length);\n          eventTarget.selectionStart = statrPos;\n          eventTarget.selectionEnd = statrPos;\n          eventTarget.focus();\n        }\n      } else {\n        DOMController.visible(_copyCut, false);\n      }\n\n      // 粘贴\n      fn.readClipboard().then(text => {\n        // 如果剪切板存在内容\n        if (!!text) {\n          DOMController.visible(_copyPaste);\n          _copyPaste.onclick = () => {\n            fn.insertAtCaret(eventTarget, text);\n          }\n        } else {\n          DOMController.visible(_copyPaste, false);\n        }\n      }).catch((err) => {\n        console.error(err);\n        DOMController.visible(_copyPaste, false);\n      });\n    } else {\n      DOMController.visible(_copySelect, false);\n      DOMController.visible(_copyPaste, false);\n      DOMController.visible(_copyCut, false);\n    }\n\n    // 新标签打开链接\n    const eventHref = eventTarget.href;\n    if (!!eventHref && urlRegx.test(eventHref)) {\n      optionFlag = true;\n      DOMController.visible(_copyHref);\n      DOMController.visible(_openTab);\n      if (_copyHref) _copyHref.onclick = () => {\n        fn.copyString(eventHref);\n      }\n      _openTab.onclick = () => {\n        window.open(eventHref);\n      }\n    } else {\n      DOMController.visible(_copyHref, false);\n    }\n\n    // 新标签打开图片 & 复制图片链接\n    const eventSrc = eventTarget.currentSrc;\n    if (!!eventSrc && urlRegx.test(eventSrc)) {\n      optionFlag = true;\n      DOMController.visible(_copySrc);\n      DOMController.visible(_openTab);\n\n      _copySrc.onclick = () => {\n        fn.copyString(eventSrc);\n      }\n\n      _openTab.onclick = () => {\n        window.open(eventSrc);\n      }\n    } else {\n      DOMController.visible(_copySrc, false);\n    }\n\n    // 复制图片\n    if (!!eventSrc && urlRegx.test(eventSrc) && eventSrc.trimEnd().endsWith('.png')) {\n      optionFlag = true;\n      DOMController.visible(_copyImg);\n\n      _copyImg.onclick = () => {\n        fn.writeClipImg(event, flag => {\n          if (flag && messageRightMenu) VolantisApp.message('系统提示', '图片复制成功！', {\n            icon: rightMenuConfig.faicon + ' fa-images'\n          });\n        }, (error) => {\n          if (messageRightMenu) VolantisApp.message('系统提示', '复制失败：' + error, {\n            icon: rightMenuConfig.faicon + ' fa-exclamation-square red'\n          });\n        })\n      }\n    } else {\n      DOMController.visible(_copyImg, false);\n    }\n\n    // 复制文本\n    if (selectText) {\n      optionFlag = true;\n      DOMController.visible(_copyText);\n      DOMController.visible(_searchWord);\n\n      _copyText.onclick = () => {\n        fn.copyString(selectText);\n      }\n\n      !!_searchWord && (_searchWord.onclick = () => {\n        OpenSearch(selectText);\n      })\n    } else {\n      DOMController.visible(_copyText, false);\n      DOMController.visible(_searchWord, false);\n    }\n\n    // 打印\n    const _printArticle = document.querySelector('#post.article') || null;\n    const pathName = window.location.pathname;\n    if (!!_printArticle) {\n      DOMController.visible(_printHtml);\n      DOMController.visible(_readingModel);\n\n      if (_printHtml) {\n        _printHtml.onclick = () => {\n          if (window.location.pathname === pathName) {\n            const message = '是否打印当前页面？<br><em style=\"font-size: 80%\">建议打印时勾选背景图形</em><br>';\n            if (messageRightMenu) VolantisApp.question('', message, {}, () => {\n              fn.printHtml();\n            })\n          } else {\n            fn.hideMenu();\n          }\n        }\n      }\n\n      if (_readingModel) {\n        _readingModel.onclick = () => {\n          if (window.location.pathname === pathName) {\n            fn.readingModel();\n          } else {\n            fn.readingModel();\n          }\n        }\n      }\n\n    } else {\n      DOMController.visible(_printHtml, false);\n      DOMController.visible(_readingModel, false);\n    }\n\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer.enable\n      && typeof RightMenuAplayer !== 'undefined'\n      && RightMenuAplayer.APlayer.player !== undefined) {\n      if (rightMenuConfig.music_alwaysShow) {\n        DOMController.visible(_menuMusic);\n      } else if (RightMenuAplayer.APlayer.status === 'play' || RightMenuAplayer.APlayer.status === 'undefined') {\n        optionFlag = true;\n        DOMController.visible(_menuMusic);\n      } else {\n        DOMController.visible(_menuMusic, false);\n      }\n    } else {\n      DOMController.visible(_menuMusic, false);\n    }\n\n    _menuLoad.forEach(ele => {\n      DOMController.visible(ele, !optionFlag);\n    })\n\n    if (volantis.GLOBAL_CONFIG.plugins.aplayer.enable\n      && rightMenuConfig.layout.includes('music')) {\n      RightMenuAplayer.checkAPlayer();\n    }\n  }\n\n  // 隐藏菜单\n  fn.hideMenu = () => {\n    DOMController.visible(_rightMenuWrapper, false);\n  }\n\n  // 复制字符串\n  fn.copyString = (str) => {\n    VolantisApp.utilWriteClipText(str)\n      .then(() => {\n        if (messageRightMenu) {\n          VolantisApp.messageCopyright();\n        }\n      }).catch(e => {\n        if (messageRightMenu) {\n          VolantisApp.message('系统提示', e, {\n            icon: rightMenuConfig.faicon + ' fa-exclamation-square red'\n          });\n        }\n      })\n  }\n\n  // 写入文本到剪切板\n  fn.writeClipText = (str) => {\n    try {\n      return navigator.clipboard\n        .writeText(str)\n        .then(() => {\n          return Promise.resolve()\n        })\n        .catch(err => {\n          return Promise.reject(err)\n        })\n    } catch (e) {\n      const input = document.createElement('input');\n      input.setAttribute('readonly', 'readonly');\n      document.body.appendChild(input);\n      input.setAttribute('value', str);\n      input.select();\n      try {\n        let result = document.execCommand('copy')\n        document.body.removeChild(input);\n        if (!result || result === 'unsuccessful') {\n          return Promise.reject('复制文本失败!')\n        } else {\n          return Promise.resolve()\n        }\n      } catch (e) {\n        document.body.removeChild(input);\n        return Promise.reject(\n          '当前浏览器不支持复制功能，请检查更新或更换其他浏览器操作!'\n        )\n      }\n    }\n  }\n\n  // 写入图片到剪切板\n  fn.writeClipImg = async function (event, success, error) {\n    const eventSrc = rightMenuConfig.customPicUrl.enable ?\n      event.target.currentSrc.replace(rightMenuConfig.customPicUrl.old, rightMenuConfig.customPicUrl.new) :\n      event.target.currentSrc;\n    const parentElement = event.target.parentElement;\n    try {\n      const data = await fetch(eventSrc);\n      const blob = await data.blob();\n      await navigator.clipboard\n        .write([\n          new ClipboardItem({\n            [blob.type]: blob\n          })\n        ]).then(() => {\n          success(true);\n        }, (e) => {\n          console.error('图片复制失败：', e);\n          error(e);\n        });\n    } catch (e) {\n      const dom = document;\n      try {\n        if (dom.body.createTextRange) {\n          const textRange = document.body.createTextRange();\n          textRange.moveToElementText(parentElement);\n          textRange.select();\n        } else if (window.getSelection) {\n          const selection = window.getSelection();\n          const range = document.createRange();\n          range.selectNodeContents(parentElement);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n        document.execCommand('copy');\n        window.getSelection().removeAllRanges();\n        success(false);\n      } catch (e) {\n        console.error(e);\n        error('不支持复制当前图片！');\n      }\n    }\n  }\n\n  // 请求读取剪切板\n  fn.readClipboard = async () => {\n    const result = await navigator.permissions.query({\n      name: 'clipboard-read'\n    });\n    if (result.state === 'granted' || result.state === 'prompt') {\n      // 修改为 .read()  可以获取剪切板中的文字/图片\n      // 返回的是 ClipboardItem\n      return navigator.clipboard\n        .readText()\n        .then(text => text)\n        .catch(err => Promise.reject(err));\n    }\n    return Promise.reject(result);\n  }\n\n  // 粘贴文本\n  fn.insertAtCaret = (elemt, value) => {\n    const startPos = elemt.selectionStart,\n      endPos = elemt.selectionEnd;\n    if (document.selection) {\n      elemt.focus();\n      var sel = document.selection.createRange();\n      sel.text = value;\n      elemt.focus();\n    } else {\n      if (startPos || startPos == '0') {\n        var scrollTop = elemt.scrollTop;\n        elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);\n        elemt.focus();\n        elemt.selectionStart = startPos + value.length;\n        elemt.selectionEnd = startPos + value.length;\n        elemt.scrollTop = scrollTop;\n      } else {\n        elemt.value += value;\n        elemt.focus();\n      }\n    }\n  }\n\n  // 执行打印页面\n  fn.printHtml = () => {\n    if (volantis.isReadModel) fn.readingModel();\n    DOMController.setAttribute('details', 'open', 'true');\n    DOMController.remove('.cus-article-bkg');\n    DOMController.remove('.iziToast-overlay');\n    DOMController.remove('.iziToast-wrapper');\n    DOMController.remove('.prev-next');\n    DOMController.remove('footer');\n    DOMController.remove('#l_header');\n    DOMController.remove('#l_cover');\n    DOMController.remove('#l_side');\n    DOMController.remove('#comments');\n    DOMController.remove('#s-top');\n    DOMController.remove('#BKG');\n    DOMController.remove('#rightmenu-wrapper');\n    DOMController.remove('.nav-tabs');\n    DOMController.remove('.parallax-mirror');\n    DOMController.remove('.new-meta-item.share');\n    DOMController.remove('div.footer');\n    DOMController.setStyle('body', 'backgroundColor', 'unset');\n    DOMController.setStyle('#l_main', 'width', '100%');\n    DOMController.setStyle('#post', 'boxShadow', 'none');\n    DOMController.setStyle('#post', 'background', 'none');\n    DOMController.setStyle('#post', 'padding', '0');\n    DOMController.setStyle('h1', 'textAlign', 'center');\n    DOMController.setStyle('h1', 'fontWeight', '600');\n    DOMController.setStyle('h1', 'fontSize', '2rem');\n    DOMController.setStyle('h1', 'marginBottom', '20px');\n    DOMController.setStyle('.tab-pane', 'display', 'block');\n    DOMController.setStyle('.tab-content', 'borderTop', 'none');\n    DOMController.setStyle('.highlight>table pre', 'whiteSpace', 'pre-wrap');\n    DOMController.setStyle('.highlight>table pre', 'wordBreak', 'break-all');\n    DOMController.setStyle('.fancybox img', 'height', 'auto');\n    DOMController.setStyle('.fancybox img', 'weight', 'auto');\n\n    setTimeout(() => {\n      window.print();\n      document.body.innerHTML = '';\n      window.location.reload();\n    }, 50);\n  }\n\n  // 阅读模式\n  fn.readingModel = () => {\n    if (typeof ScrollReveal === 'function') ScrollReveal().clean('#comments');\n    DOMController.fadeToggle(document.querySelector('#l_header'))\n    DOMController.fadeToggle(document.querySelector('footer'))\n    DOMController.fadeToggle(document.querySelector('#s-top'))\n    DOMController.fadeToggle(document.querySelector('.article-meta#bottom'))\n    DOMController.fadeToggle(document.querySelector('.prev-next'))\n    DOMController.fadeToggle(document.querySelector('#l_side'))\n    DOMController.fadeToggle(document.querySelector('#comments'))\n\n    DOMController.toggleClass(document.querySelector('#l_main'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#l_main'), 'common_read_main')\n    DOMController.toggleClass(document.querySelector('#l_body'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#safearea'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#pjax-container'), 'common_read')\n    DOMController.toggleClass(document.querySelector('#read_bkg'), 'common_read_hide')\n    DOMController.toggleClass(document.querySelector('h1'), 'common_read_h1')\n    DOMController.toggleClass(document.querySelector('#post'), 'post_read')\n    DOMController.toggleClass(document.querySelector('#l_cover'), 'read_cover')\n    DOMController.toggleClass(document.querySelector('.widget.toc-wrapper'), 'post_read')\n\n    volantis.isReadModel = volantis.isReadModel === undefined ? true : !volantis.isReadModel;\n    if (volantis.isReadModel) {\n      const option = {\n        backgroundColor: 'var(--color-read-post)',\n        icon: rightMenuConfig.faicon + ' fa-book-reader',\n        time: 5000\n      }\n      if (messageRightMenu) VolantisApp.message('系统提示', '阅读模式已开启，您可以点击屏幕空白处退出。', option);\n      document.querySelector('#l_body').removeEventListener('click', fn.readingModel);\n      document.querySelector('#l_body').addEventListener('click', (event) => {\n        if (DOMController.hasClass(event.target, 'common_read')) {\n          fn.readingModel();\n        }\n      });\n    } else {\n      document.querySelector('#l_body').removeEventListener('click', fn.readingModel);\n      document.querySelector('#post').removeEventListener('click', fn.readingModel);\n    }\n  }\n\n  return {\n    init: (notice = false) => {\n      fn.init();\n      fn.initEvent();\n      if (notice && messageRightMenu) VolantisApp.message('系统提示', '自定义右键注册成功。');\n    },\n    destroy: (notice = false) => {\n      fn.hideMenu();\n      window.document.oncontextmenu = () => {\n        return true\n      };\n      if (notice && messageRightMenu) VolantisApp.message('系统提示', '自定义右键注销成功。');\n    },\n    hideMenu: fn.hideMenu,\n    readingModel: fn.readingModel\n  }\n})()\n\nObject.freeze(RightMenu);\n\nvolantis.requestAnimationFrame(() => {\n  if (document.readyState !== 'loading') {\n    RightMenu.init();\n\n    volantis.pjax.send(() => {\n      RightMenu.hideMenu();\n    })\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      RightMenu.init();\n\n      volantis.pjax.send(() => {\n        RightMenu.hideMenu();\n      })\n    })\n  }\n});\n"]}